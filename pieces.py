from colors import Color

class Piece:
  def __init__(self, matrices, color, unique_rotations):
    assert len(matrices) == 4
    for m in matrices:
      assert len(m) == 4
      for row in m:
        assert len(row) == 4

    self.rot = 0
    self.matrices = matrices
    self.color = color
    self.unique_rotations = unique_rotations
  
  @property
  def matrix(self):
    return self.matrices[self.rot]
  
  def rotate(self):
    self.rot = (self.rot + 1) % 4
  
  def rotate_backwards(self):
    self.rot = (self.rot + 3) % 4
  
  def reset_rotation(self):
    self.rot = 0

i = Piece(
  (
    (
      (0, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 1, 0, 0),
    ),
    (
      (0, 0, 0, 0),
      (1, 1, 1, 1),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 1, 0),
      (0, 0, 1, 0),
      (0, 0, 1, 0),
      (0, 0, 1, 0),
    ),
    (
      (0, 0, 0, 0),
      (0, 0, 0, 0),
      (1, 1, 1, 1),
      (0, 0, 0, 0),
    ),
  ),
  Color.DARK_CYAN,
  (0, 1)
)

j = Piece(
  (
    (
      (0, 1, 0, 0),
      (0, 1, 0, 0),
      (1, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (1, 0, 0, 0),
      (1, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 1, 0),
      (0, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 0, 0),
      (1, 1, 1, 0),
      (0, 0, 1, 0),
      (0, 0, 0, 0),
    ),
  ),
  Color.DARK_RED,
  (0, 1, 2, 3)
)

l = Piece(
  (
    (
      (0, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 0, 0),
      (1, 1, 1, 0),
      (1, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (1, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 1, 0),
      (1, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
  ),
  Color.DARK_BROWN,
  (0, 1, 2, 3)
)

o = Piece(
  (
    (
      (0, 1, 1, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 1, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 1, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 1, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
  ),
  Color.DARK_MAGENTA,
  (0,)
)

s = Piece(
  (
    (
      (0, 1, 1, 0),
      (1, 1, 0, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 0, 0),
      (0, 1, 1, 0),
      (0, 0, 1, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 0, 0),
      (0, 1, 1, 0),
      (1, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (1, 0, 0, 0),
      (1, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
  ),
  Color.DARK_GRAY,
  (0, 1)
)

t = Piece(
  (
    (
      (0, 1, 0, 0),
      (1, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 0, 0),
      (0, 1, 1, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 0, 0),
      (1, 1, 1, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 0, 0),
      (1, 1, 0, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
  ),
  Color.DARK_GREEN,
  (0, 1, 2, 3)
)

z = Piece(
  (
    (
      (1, 1, 0, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 1, 0),
      (0, 1, 1, 0),
      (0, 1, 0, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 0, 0, 0),
      (1, 1, 0, 0),
      (0, 1, 1, 0),
      (0, 0, 0, 0),
    ),
    (
      (0, 1, 0, 0),
      (1, 1, 0, 0),
      (1, 0, 0, 0),
      (0, 0, 0, 0),
    )
  ),
  Color.DARK_BLUE,
  (0, 1)
)

pieces = i, j, l, o, s, t, z